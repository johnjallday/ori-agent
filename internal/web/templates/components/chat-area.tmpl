<div class="modern-card p-4 mb-3" style="height: 60vh; position: relative;">
  <div id="chatArea" class="overflow-auto h-100" style="padding-right: 0.5rem;">
    <!-- Chat messages will be populated here -->
  </div>
</div>

<div class="modern-card p-3">
  <!-- File Upload Area -->
  <div id="uploadedFilesArea" class="mb-3" style="display: none;">
    <div class="d-flex align-items-center justify-content-between mb-2">
      <label class="chat-label" style="font-size: 12px; margin: 0;">Uploaded Files:</label>
      <button id="clearFilesBtn" class="btn btn-sm btn-link clear-files-btn" style="padding: 0; font-size: 12px;">
        Clear all
      </button>
    </div>
    <div id="uploadedFilesList" class="d-flex flex-wrap gap-2"></div>
  </div>

  <div class="d-flex gap-3 align-items-end">
    <div class="flex-grow-1">
      <textarea
        id="input"
        class="modern-input w-100"
        placeholder="Type your message here..."
        rows="3"
        style="resize: vertical; min-height: 80px; max-height: 200px; font-family: inherit;"
      ></textarea>
      <div class="d-flex justify-content-between align-items-center mt-2">
        <div class="d-flex gap-2 align-items-center">
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="enterToSend" checked>
            <label class="form-check-label chat-label" for="enterToSend" style="font-size: 12px;">
              Enter to send
            </label>
          </div>
          <label for="fileUpload" class="btn btn-sm attach-files-btn" style="margin: 0; padding: 4px 10px; background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-color); cursor: pointer; font-size: 12px; border-radius: 6px; transition: all 0.2s ease;">
            ðŸ“Ž Attach Files
          </label>
          <input type="file" id="fileUpload" multiple accept=".txt,.md,.pdf,.doc,.docx,.csv,.json,.xml,.html" style="display: none;">
          <button id="clearChatBtn" class="btn btn-sm clear-chat-btn" style="padding: 4px 10px; font-size: 12px; border-radius: 6px; transition: all 0.2s ease;" title="Clear chat history">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="currentColor" class="me-1" style="vertical-align: middle;">
              <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"/>
            </svg>
            Clear
          </button>
        </div>
      </div>
    </div>
    <button
      id="sendBtn"
      class="modern-btn modern-btn-primary"
      style="height: fit-content; min-width: 48px; padding: 0.5rem 1rem;"
      title="Send message"
    >
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
      </svg>
    </button>
  </div>
</div>